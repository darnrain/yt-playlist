9-20-2023

================================
Change log notes
================================

Linux v2.36.2 | macOS v0.20.2 | Termux v2.36.2
Just some small changes to the yt-playlist code, regarding downloading audio and video.

Linux v2.36.1 | macOS v0.20.1 | Termux v2.36.1
Fixed bug with the changes I made in the last version. If you typed in the wrong argument, then yt-playlist would not accept anymore arguments.

Linux v2.36 | macOS v0.20 | Termux v2.36
Made a check to make sure there is no yt-playlist running before starting yt-playlist. If you open two yt-playlist, it can cause issues.
Updated the install.sh on Linux/macOS/Termux to check and see if yt-playlist is running before installing.
If you type in the wrong argument you will get an error message now, before yt-playlist would just start. Also you can only type in one argument at a time.

v2.35.4
Updated Termux only.
Updated the Termux install command. It now checks to see if git is installed, if true then skips install. This will speed up the automated install.

v2.35.3
Updated Termux only.
Fixed sed commands in Termux install.sh

v2.35.2
Now at Main menu when cover art notifications enabled it say it's on.
No changes were made to Termux or macOS.

v2.35.1
Fixed issue with help menu Linux version.
No changes were made to Termux or macOS.

v2.35
Changes to Linux only, updated version number on Termux.
Getting cover notifications on Linux takes time, getting 100 results.
3.45 seconds with cover art.
1.71 seconds without cover art.
You will see this when you play an Channel/Playlist/Album for the first time, it has to download all the songs and get the cover art. So I have added a command line argument. 
"yt-playlsit --cover_art"
By default cover art is disabled now. To enable it just run yt-playlist with that argument. It's a trade off, cover art notifications but takes longer to start music/video, or no cover art but 2x faster starting?

v0.18 yt-playlist_macos_beta
This macOS port was taken from the Linux version, Linux downloads the cover art of the Channel/Playlist/Album. I have not found out how to display that in the notifications on mac. So I have removed the download of that cover art.
No changes were made to Linux or Termux only macOS in v2.34.3

v0.18 yt-playlist_macos_beta
yt-playlist with now use /usr/local/bin/bash installed by brew. Updated the dependencies in readme.txt
No changes were made to Linux or Termux only macOS in v2.34.2

v0.17 yt-playlist_macos_beta
Updated the readme.txt file, changed the press y to load yt-playlist. It now works.
No changes were made to Linux or Termux only macOS in v2.34.1

v0.16 yt-playlist_macos_beta
Added a new dependencie jemalloc, will lower cpu usage running yt-playlist.

v2.34
Added jemalloc to the Linux auto dependencies install. No changed were made to Termux, but you can update if you want to be on the new version.

v0.15 yt-playlist_macos_beta
Enabled notifications.

v2.33
No much has changed. I cleaned up the Linux and Termux install.sh and the main yt-playlist file.
yt-playlist will now check to make sure you have git installed.

v0.14 yt-playlist_macos_beta
stuff to make things work. :)
This v2.32.1 update is for macOS beta, no changes were make on Linux or Termux at this time. Added some new dependencies, please install before installing this update.

v0.13 yt-playlist_macos_beta
Wow this was a difficult issue to fix for me, took me like 3 4 days. But I can say with confidence that the deleting issue with macOS beta is now fixed. It was nl the whole time. Basically the line numbers were getting all messed up, it did delete just not the correct line. yt-playlist is now using gnl that fixed the issue.
Everyone will need to install the new dependencies again.

v2.32
Added the dependencies git to Linux and macOS beta. 
Updated the readme.txt files.

v2.31.1
Termux version only. Other flavors were not updated.
Updated the install.sh on Termux, If you are installing Termux yt-playlist offline and not all dependencies were found, then installer would not work. Online install was working on v2.31.
Also updated the Termux automated install command, Termux needs to install git first if not installed.

v0.12 yt-playlist_macos_beta
Added an offline install option. As for v0.12 it's running great. As far as I can tell everything is working as it should. I need to do more testing before taking it out of beta. Also once I take macOS out of beta the install command will change. I will post the updated command in the change log.

v2.31
Added an offline install option. Also changed the install commands one more time, so we can have an Automated and Offline install. Updated readme.txt on all three flavors.

Linux automated install:
if [ -d /tmp/yt-playlist/ ]; then yes|rm -R /tmp/yt-playlist/; fi; git clone https://github.com/darnrain/yt-playlist.git /tmp/yt-playlist/; sudo chmod +x /tmp/yt-playlist/yt-playlist-linux/install.sh; /tmp/yt-playlist/yt-playlist-linux/install.sh --online_install

macOS automated install:
if [ -d /tmp/yt-playlist/ ]; then yes|rm -R /tmp/yt-playlist/; fi; git clone https://github.com/darnrain/yt-playlist.git /tmp/yt-playlist/; sudo chmod +x /tmp/yt-playlist/yt-playlist_macos_beta/install.sh; /tmp/yt-playlist/yt-playlist_macos_beta/install.sh --online_install

Termux automated install:
if [ -d ${TMPDIR}/yt-playlist/ ]; then yes|rm -R ${TMPDIR}/yt-playlist/; fi; pkg install git; git clone https://github.com/darnrain/yt-playlist.git ${TMPDIR}/yt-playlist/; chmod +x ${TMPDIR}/yt-playlist/yt-playlist-termux/install.sh; ${TMPDIR}/yt-playlist/yt-playlist-termux/install.sh --online_install


v0.11 yt-playlist_macos_beta
Because I have changed every thing around, I needed to make some changes to yt-playlist for this new install.

v2.30
You may have seen that I did a compleat do over on the github website. One command to install the latest version of yt-playlist now.
Because I have changed every thing around, I needed to make some changes to yt-playlist for this new install.

Update: I am done rearranging everything. :)

v0.10 yt-playlist_macos_beta
This was tricky to fix, but I got it this time. You can now delete history.

v2.29
I have a tendency to over complicate things. I have removed all the online installers. I am making a readme.txt file in each type of yt-playlist, you will be able to just copy and paste to install from online. May take about 30 min or so to get it.

v0.9 yt-playlist_macos_beta
Fixed an issue with deleting history.

v2.28
Renamed the yt-playlist_search_history.txt file to yt-playlist_history.txt for some reason macos did not like that longer file name. So I just thought I would rename all the version.
Change the Playlist menu search menus to a shorter enter search:


v0.8 yt-playlist_macos_beta
Fixed sleep timer on macOS. Updated the install_instructions.txt. The macos_beta v0.8 is now packaged in the zip file with v2.27. As of now I think everything is working on the macOS version. When this macos version is out of beta, I may just bump it up to the current version of Linux and Termux is on. I like having one version for everything.

v2.27 Linux and Termux
Overhauled the sleep timer function. Sleep timer was lowering the volume of the Linux OS and Termux OS. As of now it will lower the volume of mpv only. This was the only way to get sleep timer to work on macOS. It will still lower the volume every two seconds then pause mpv and restor volume back to 95%, yt-playlist default level.


v0.7
macos beta is running very good. The only thing that is not working now is the sleep timer. I need to find out how to lower the volume in macos from the terminal. Macos beta 0.7 is taken from yt-playlist v2.26 and converted over to macos.

v2.26
Updated the --title and shift-t function.
If the artist is included in the title, then no more "Please wait getting artist and title." You will see the Artist and title instantly.

Update: I was able to get yt-playlist up and running under macos big sur. You are welcome to test it out, it's in beta at this time. All the delete and save menus do not work. It's from v2.26, v0.3_macos_beta. I will work on it some more when I have more time. Just clone the repo it's under yt-playlist_macos_beta

v2.25
Added mpv_sponsorblock. Now on the Play SD menu and Play Bookmark menu, sponsors will be skipped automatically.
https://github.com/po5/mpv_sponsorblock

v2.24
Added a new YTMusic playlist search to the Playlist menu.
YTMusic playlist search [1] = featured playlists, music only. old.
YTMusic playlist search [2] = community playlists, YT music videos. new

v2.23
Fixed bug, some music/videos were unavailable, but yt-playlist was getting the results anyway.
I already filtered out private/deleted music/videos but I didn't know there was also unavailable.

v2.22
The Linux and Termux installer will now check to see if yt-playlist or mpv is running, if true then asks user to close program before installing.
Removed the pkill yt-playlist and pkill mpv from the installer, because now it will just check to see if they are running.
Updated the clean_up_function so the code looks a little cleaner.

v2.21
Found a bug that I never would have thought of.
Short answer is I fixed it, I made a function that cleans up all the yt-playlist tmp files each time you run yt-playlist. If for what ever reason mpv gets closed other than pressing q or shift-q then yt-playlist will not work correct.

Also I hope everyone don't mind me pushing out a lot of updates today, I am just in the programing mood today I guess. :)

v2.20
Added the option to the check for update, you can now view the current change log. 
You can now press shift-t to view the artist & title when playing music/video.
Updated --help

v2.19
Added an option at the main menu to check for updates.

v2.18
Fixed bug, on the YTMusic menu. Play from a start position would report one extra song.

v2.17
Improved accuracy of delete duplicates option in the YTMusic menu.

v2.16
Removed Pitchfork's 1001 Albums You Must Hear Before You Die. It didn't fit on my phones screen running Termux. 
Numbered lines on Chartmasters Top Songs.

Pitchfork's 1001 Albums You Must Hear Before You Die
https://gist.github.com/onlurking/af870dce21a4bd45e3e46174d8c30d3b

v2.15
Added to the Billboard charts menu.
Chartmasters top songs.

v2.14
Added to the Billboard charts menu.
Pitchfork's 1001 Albums You Must Hear Before You Die

v2.13
Added to the Billboard charts menu.
Rolling Stone's list of The 500 Greatest Songs of All Time.
1001 Albums You Must Hear Before You Die.

v2.12
Fixed bug, the YTMusic menu fast search was saving urls as www. and slow search did not have the www. in the url. This would not have been an issue unless your looking for duplicate urls to delete. So going forward this issue has been fixed. You will have to manually delete all the old duplicates.

v2.11
Fixed bug, delete all the duplicate urls from the music library was not working.

v2.10
Added the option to delete all the duplicate urls from the music library, in the Play YTMusic menu.

v2.9
Added Billboard Hot 100 (1) and Billboard Hot 100 (2)
Just in case one does not get updated.

v2.8
A number of bug fixes and changes in this version. The biggest change is I added some new command line arguments.
--download_audio m4a
--download_audio opus
--download_video mp4

The commands only will work when playing music/video.

v2.7
I got it this time. I am happy with how v2.7 turned out. I have other ideas in mind for future updates.

The --title argument will work in the following menus:
Play SD menu
Play Bookmark menu
Play YTMusic menu
Will not work on the Play HD menu.

The cover art notifications will work on the following menus.
Play SD menu.
Play HD menu. only play/pause will work.

Removed the cover art notifications from:
Play Bookmark menu
Play YTMusic menu
No need for it, as the cover art is only the Channel/playlist/albums.

v2.6
Bug fixes with the --next and --prev it was skipping forward and backwards twice.
Added Channel/playlist/album cover art to the desktop notifications. Only works on Play SD menu and the Linux version. Works on FF RR Play/Pause and --title
yt-playlist will get the cover art when you 1. load a Channel/playlist/album 2. get the results. The cover art will show up on all menus at this time. That may change in the future. You don't really need the cover art in the YTMusic menu or Bookmark menu. I just thought of that now.

v2.5
Fixed an issue with saving favorites when playing music/video.
Fixed issue with the argument --title
Changed the quit commands on Main menu back to q/Q
Changed quit question back to y/Y
I was thinking that might be too many letters to press and quit accidentally.

v2.4
A number of changes in this version.
Updated the code that downloads audio and video in real time also save bookmark.

Quit Main menu commands:
q/Q/x/exit/quit
Quit question commands:
y/Y/x/exit/quit

Added a new command line argument
Desktop and terminal
notifications get
artist and title        --title

FF, RR and Play/Pause will now show in the terminal and desktop notifications. Uses notify-send, if notify-send is not found yt-playlist will default back to terminal notifications only.

Updated the --help

v2.3
There a typo. quit? (y/N)? Changed to Quit? [y/N] I know it's a little thing but it was bugging me.

v2.2
I am always pressing q when I want to press 1 for the Play SD menu. So I have added a yes or no question when you press q to quit.

v2.1
Check internet status is now in the debug menu. Type debug at the main menu to access it. Renamed Billboard charts to Billboard charts menu.

v2.0
Major update. Added a new menu to the Main Menu, Billboard charts menu. Removed Billboard Hot 100 from the YTMusic menu.

v1.54
Updated Billboard hot 100 in the YTMusic menu. It is now using curl instead of wget to download the json file. Removed wget from the auto dependencies install.

v1.53
Updated the dependencies.txt. I updated the debian based dependencies install for removing yt-dlp and youtube-dl.

v1.52
Updated the dependencies.txt. There was an error in the commands for removing the old yt-dlp and youtube-dl on arch linux. Also added pipx to uninstall yt-dlp and youtube-dl. The commands in dependencies.txt will download the latest yt-dlp version from github.com and install it.

v1.51
Default audio format is now opus for the YTMusic menu. Youtube Music is not throttled so it makes sense to use the best audio format by default.

v1.50
Changed the theme on fx, YTMusic menu option number 8. The auto dependencies install, you now have to say yes to install and to uninstall yt-dlp and youtube-dl. Added This command requires you to type in your password for sudo, for all the command that require sudo.

v1.49
Added new command line arguments Termux/Linux versions
yt-playlist --play_pause
yt-playlist --next
yt-playlist --prev

Now it should be easy to setup your media keys to control yt-playlsit. Works on all Play menus. The Play HD menu you can only play/pause.

Updated yt-playlist --help

I am going to include a change_log.txt file now with the zip file and main repo, so everyone can keep updated on all the changes I am making.

Because of this update, I have removed the mpv_commands.txt file.

Old depreciated commands

Play/Pause command.
echo cycle pause | socat - "/tmp/mpvsocket"

Next track command.
echo playlist-next | socat - "/tmp/mpvsocket"

Prev track command.
echo playlist-prev | socat - "/tmp/mpvsocket"

v1.48
Updated yt-playlist --help

v1.47
Changed how resume playback works.
Play music/video then if you want to save the playback position and quit press "shift-q".
When you want to resume from that saved playback position enable resume playback, then play the music/video.
If you just want to quit music/video without saving the playback position, press "q".
You can save to the bookmarks and then press "shift-q" to save the playback position, then resume playback from the bookmarks.
Resume playback and save playback position only will work in the Play SD menu and Bookmark SD menu.

Updated the help to include this info, the abridged version.

v1.46
Updated the Play SD menu option number 11 to say Enter number of music/video results. From Enter number of video results.

You now have to enable resume playback for the playback position to be saved when you quit watching music/video on the Play SD menu and Bookmark SD menu, before the playback position would be saved even if you did not have resume playback enabled. This way your playback position will not get overwritten if you forget to enable resume playback.

v1.45
Updated the Termux and Linux help to include that you can press enter for next track. Updated the mpv_commands.txt

